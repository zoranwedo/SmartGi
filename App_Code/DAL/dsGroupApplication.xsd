<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="dsGroupApplication" targetNamespace="http://tempuri.org/dsGroupApplication.xsd" xmlns:mstns="http://tempuri.org/dsGroupApplication.xsd" xmlns="http://tempuri.org/dsGroupApplication.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="0" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="Web.config" AppSettingsPropertyName="csSMART_SQL" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="csSMART_SQL (Web.config)" ParameterPrefix="@" PropertyReference="AppConfig.System.Configuration.ConfigurationManager.0.ConnectionStrings.csSMART_SQL.ConnectionString" Provider="System.Data.SqlClient" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="FtToApplyTableAdapter" GeneratorDataComponentClassName="FtToApplyTableAdapter" Name="FtToApply" UserDataComponentName="FtToApplyTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="csSMART_SQL (Web.config)" DbObjectType="Unknown" GenerateMethods="Get" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="GetData">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT 
	dDoc.DocumentID,
	dDoc.DocCode,
	dDoc.DocNumber,
	dDoc.EfectiveAmount Balance,
	dDoc.Amount AS HBalance,
	dDoc.Approved AS DocApproved,
	dDoc.DocDate,
	convert(int, null) TransID,
	convert(money, 0) ApplyAmount,
	convert(nvarchar(500), null) ApplyNote,
	i.ResGroup
FROM   AccVwDocBalance AS sDoc
	INNER JOIN AccDocument AS sBase
		ON  sDoc.DocCode = sBase.TrCode
	INNER JOIN AccDocument AS dBase
		ON  sBase.TrSign &lt;&gt; dBase.TrSign
		AND sBase.AccountTypeID = dBase.AccountTypeID
	INNER JOIN AccVwDocEfective AS dDoc
		ON  dBase.TrCode = dDoc.DocCode
		AND sDoc.HotelId = dDoc.HotelId
		AND sDoc.TourOpId = dDoc.TourOpId
	inner join AccTransDocument doc
		on dDoc.DocumentID = doc.DocumentID
	inner join Invoice i
		on doc.ExtDocID = i.InvoiceID
WHERE  sDoc.DocumentID = @DocumentID
	AND dDoc.Canceled = 0
	AND dDoc.EfectiveAmount &gt; 0
	AND dDoc.Canceled = 0
	AND dDoc.EfectiveAmount &gt; 0
	and i.ResGroup is not null 
	and i.ResGroup &lt;&gt; '-'
	and (@Group is null or i.ResGroup like '%' + @Group + '%')
	and (@FromDate is null or dDoc.DocDate &gt;= @FromDate)
	and (@ToDate is null or dDoc.DocDate &lt;= @ToDate)
order by 1,2</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="DocumentID" ColumnName="DocumentID" DataSourceName="LIVE_SMART_SQL.dbo.AccVwDocBalance" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@DocumentID" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="DocumentID" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="Group" ColumnName="ResGroup" DataSourceName="LIVE_SMART_SQL.dbo.Invoice" DataTypeServer="varchar(50)" DbType="AnsiString" Direction="Input" ParameterName="@Group" Precision="0" ProviderType="VarChar" Scale="0" Size="50" SourceColumn="ResGroup" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="FromDate" ColumnName="DocDate" DataSourceName="LIVE_SMART_SQL.dbo.AccVwDocEfective" DataTypeServer="datetime" DbType="DateTime" Direction="Input" ParameterName="@FromDate" Precision="0" ProviderType="DateTime" Scale="0" Size="8" SourceColumn="DocDate" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="ToDate" ColumnName="DocDate" DataSourceName="LIVE_SMART_SQL.dbo.AccVwDocEfective" DataTypeServer="datetime" DbType="DateTime" Direction="Input" ParameterName="@ToDate" Precision="0" ProviderType="DateTime" Scale="0" Size="8" SourceColumn="DocDate" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="DocumentID" DataSetColumn="DocumentID" />
              <Mapping SourceColumn="DocCode" DataSetColumn="DocCode" />
              <Mapping SourceColumn="DocNumber" DataSetColumn="DocNumber" />
              <Mapping SourceColumn="Balance" DataSetColumn="Balance" />
              <Mapping SourceColumn="HBalance" DataSetColumn="HBalance" />
              <Mapping SourceColumn="DocApproved" DataSetColumn="DocApproved" />
              <Mapping SourceColumn="DocDate" DataSetColumn="DocDate" />
              <Mapping SourceColumn="TransID" DataSetColumn="TransID" />
              <Mapping SourceColumn="ApplyAmount" DataSetColumn="ApplyAmount" />
              <Mapping SourceColumn="ApplyNote" DataSetColumn="ApplyNote" />
              <Mapping SourceColumn="ResGroup" DataSetColumn="ResGroup" />
            </Mappings>
            <Sources>
              <DbSource ConnectionRef="csSMART_SQL (Web.config)" DbObjectType="Unknown" GenerateMethods="Get" GenerateShortCommands="true" GeneratorGetMethodName="GetDataByTrans" GetMethodModifier="Public" GetMethodName="GetDataByTrans" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="GetDataByTrans" UserSourceName="GetDataByTrans">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>select d.DocumentID,
	d.DocCode,
	d.DocNumber,
	convert(money, null) Balance,
	convert(money, null) HBalance,
	convert(bit, null) DocApproved,
	convert(datetime, null) DocDate,
	t.TransID,
	t.CreditAmount ApplyAmount,
	t.DetailNote ApplyNote,
	i.ResGroup
from AccTransDetail t
	inner join AccTransDocument d
		on t.DocumentID = d.DocumentID
	left outer join Invoice i
		on d.ExtDocID = i.InvoiceID
where t.TransID = @TransID
</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="TransID" ColumnName="TransID" DataSourceName="LIVE_SMART_SQL.dbo.AccTransDetail" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@TransID" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="TransID" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </Sources>
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="dsGroupApplication" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:Generator_UserDSName="dsGroupApplication" msprop:Generator_DataSetName="dsGroupApplication">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="FtToApply" msprop:Generator_UserTableName="FtToApply" msprop:Generator_RowDeletedName="FtToApplyRowDeleted" msprop:Generator_RowChangedName="FtToApplyRowChanged" msprop:Generator_RowClassName="FtToApplyRow" msprop:Generator_RowChangingName="FtToApplyRowChanging" msprop:Generator_RowEvArgName="FtToApplyRowChangeEvent" msprop:Generator_RowEvHandlerName="FtToApplyRowChangeEventHandler" msprop:Generator_TableClassName="FtToApplyDataTable" msprop:Generator_TableVarName="tableFtToApply" msprop:Generator_RowDeletingName="FtToApplyRowDeleting" msprop:Generator_TablePropName="FtToApply">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="DocumentID" msprop:Generator_UserColumnName="DocumentID" msprop:Generator_ColumnVarNameInTable="columnDocumentID" msprop:Generator_ColumnPropNameInRow="DocumentID" msprop:Generator_ColumnPropNameInTable="DocumentIDColumn" type="xs:int" />
              <xs:element name="DocCode" msprop:Generator_UserColumnName="DocCode" msprop:Generator_ColumnVarNameInTable="columnDocCode" msprop:Generator_ColumnPropNameInRow="DocCode" msprop:Generator_ColumnPropNameInTable="DocCodeColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="10" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="DocNumber" msprop:Generator_UserColumnName="DocNumber" msprop:Generator_ColumnVarNameInTable="columnDocNumber" msprop:Generator_ColumnPropNameInRow="DocNumber" msprop:Generator_ColumnPropNameInTable="DocNumberColumn" type="xs:int" minOccurs="0" />
              <xs:element name="Balance" msprop:Generator_UserColumnName="Balance" msprop:Generator_ColumnVarNameInTable="columnBalance" msprop:Generator_ColumnPropNameInRow="Balance" msprop:Generator_ColumnPropNameInTable="BalanceColumn" type="xs:decimal" minOccurs="0" />
              <xs:element name="HBalance" msprop:Generator_UserColumnName="HBalance" msprop:Generator_ColumnVarNameInTable="columnHBalance" msprop:Generator_ColumnPropNameInRow="HBalance" msprop:Generator_ColumnPropNameInTable="HBalanceColumn" type="xs:decimal" minOccurs="0" />
              <xs:element name="DocApproved" msprop:Generator_UserColumnName="DocApproved" msprop:Generator_ColumnVarNameInTable="columnDocApproved" msprop:Generator_ColumnPropNameInRow="DocApproved" msprop:Generator_ColumnPropNameInTable="DocApprovedColumn" type="xs:boolean" minOccurs="0" />
              <xs:element name="DocDate" msprop:Generator_UserColumnName="DocDate" msprop:Generator_ColumnVarNameInTable="columnDocDate" msprop:Generator_ColumnPropNameInRow="DocDate" msprop:Generator_ColumnPropNameInTable="DocDateColumn" type="xs:dateTime" minOccurs="0" />
              <xs:element name="TransID" msprop:Generator_UserColumnName="TransID" msprop:Generator_ColumnVarNameInTable="columnTransID" msprop:Generator_ColumnPropNameInRow="TransID" msprop:Generator_ColumnPropNameInTable="TransIDColumn" type="xs:int" minOccurs="0" />
              <xs:element name="ApplyAmount" msprop:Generator_UserColumnName="ApplyAmount" msprop:Generator_ColumnVarNameInTable="columnApplyAmount" msprop:Generator_ColumnPropNameInRow="ApplyAmount" msprop:Generator_ColumnPropNameInTable="ApplyAmountColumn" type="xs:decimal" minOccurs="0" />
              <xs:element name="ApplyNote" msprop:Generator_UserColumnName="ApplyNote" msprop:Generator_ColumnVarNameInTable="columnApplyNote" msprop:Generator_ColumnPropNameInRow="ApplyNote" msprop:Generator_ColumnPropNameInTable="ApplyNoteColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="500" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="ResGroup" msprop:Generator_UserColumnName="ResGroup" msprop:Generator_ColumnVarNameInTable="columnResGroup" msprop:Generator_ColumnPropNameInRow="ResGroup" msprop:Generator_ColumnPropNameInTable="ResGroupColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
  </xs:element>
</xs:schema>